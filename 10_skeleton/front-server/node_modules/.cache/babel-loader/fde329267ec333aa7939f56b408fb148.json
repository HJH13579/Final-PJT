{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport createPersistedState from 'vuex-persistedstate';\nconst API_URL = 'http://127.0.0.1:8000';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  plugins: [createPersistedState()],\n  state: {\n    articles: [],\n    token: null\n  },\n  getters: {},\n  mutations: {\n    GET_ARTICLES(state, articles) {\n      state.articles = articles;\n    },\n    SAVE_TOKEN(state, token) {\n      state.token = token;\n    }\n  },\n  actions: {\n    getArticles(context) {\n      axios({\n        method: 'get',\n        url: `${API_URL}/api/v1/articles/`\n      }).then(res => {\n        // console.log(res, context)\n        context.commit('GET_ARTICLES', res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    signUp(context, payload) {\n      const username = payload.username;\n      const password1 = payload.password1;\n      const password2 = payload.password2;\n      axios({\n        method: 'post',\n        url: `${API_URL}/accounts/signup`,\n        data: {\n          username,\n          password1,\n          password2\n        }\n      }).then(res => {\n        // console.log(res)\n        // context.commit\n        context.commit('SAVE_TOKEN', res.data.key);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    login(context, payload) {\n      const username = payload.username;\n      const password = payload.password;\n      axios({\n        method: 'post',\n        url: `${API_URL}/accounts/login`,\n        data: {\n          username,\n          password\n        }\n      }).then(res => {\n        context.commit('SAVE_TOKEN', res.data.key);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["Vue","Vuex","axios","createPersistedState","API_URL","use","Store","plugins","state","articles","token","getters","mutations","GET_ARTICLES","SAVE_TOKEN","actions","getArticles","context","method","url","then","res","commit","data","catch","err","console","log","signUp","payload","username","password1","password2","key","login","password","modules"],"sources":["C:/Users/SSAFY/Desktop/Vue_practice/Vue-practice/day10/10_skeleton/front-server/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nimport axios from 'axios'\r\nimport createPersistedState from 'vuex-persistedstate'\r\n\r\nconst API_URL = 'http://127.0.0.1:8000'\r\n\r\nVue.use(Vuex)\r\n\r\n\r\nexport default new Vuex.Store({\r\n  plugins: [\r\n    createPersistedState(),\r\n  ],\r\n  state: {\r\n    articles: [\r\n    ],\r\n    token: null,\r\n  },\r\n  getters: {\r\n  },\r\n  mutations: {\r\n    GET_ARTICLES(state, articles) {\r\n      state.articles = articles\r\n    },\r\n    SAVE_TOKEN(state, token) {\r\n      state.token = token\r\n    }\r\n  },\r\n  actions: {\r\n    getArticles(context) {\r\n      axios({\r\n        method: 'get',\r\n        url: `${API_URL}/api/v1/articles/`,\r\n      })\r\n      .then((res) => {\r\n        // console.log(res, context)\r\n        context.commit('GET_ARTICLES', res.data)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    signUp(context, payload) {\r\n      const username = payload.username\r\n      const password1 = payload.password1\r\n      const password2 = payload.password2\r\n\r\n      axios({\r\n        method: 'post',\r\n        url: `${API_URL}/accounts/signup`,\r\n        data: {\r\n          username, password1, password2\r\n        }\r\n      })\r\n      .then((res) => {\r\n        // console.log(res)\r\n        // context.commit\r\n        context.commit('SAVE_TOKEN', res.data.key)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    login(context, payload) {\r\n      const username = payload.username\r\n      const password = payload.password\r\n\r\n      axios({\r\n        method: 'post',\r\n        url: `${API_URL}/accounts/login`,\r\n        data: {\r\n          username, password\r\n        }\r\n      })\r\n      .then((res) => {\r\n        context.commit('SAVE_TOKEN', res.data.key)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n    }\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AAEvB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,oBAAoB,MAAM,qBAAqB;AAEtD,MAAMC,OAAO,GAAG,uBAAuB;AAEvCJ,GAAG,CAACK,GAAG,CAACJ,IAAI,CAAC;AAGb,eAAe,IAAIA,IAAI,CAACK,KAAK,CAAC;EAC5BC,OAAO,EAAE,CACPJ,oBAAoB,EAAE,CACvB;EACDK,KAAK,EAAE;IACLC,QAAQ,EAAE,EACT;IACDC,KAAK,EAAE;EACT,CAAC;EACDC,OAAO,EAAE,CACT,CAAC;EACDC,SAAS,EAAE;IACTC,YAAY,CAACL,KAAK,EAAEC,QAAQ,EAAE;MAC5BD,KAAK,CAACC,QAAQ,GAAGA,QAAQ;IAC3B,CAAC;IACDK,UAAU,CAACN,KAAK,EAAEE,KAAK,EAAE;MACvBF,KAAK,CAACE,KAAK,GAAGA,KAAK;IACrB;EACF,CAAC;EACDK,OAAO,EAAE;IACPC,WAAW,CAACC,OAAO,EAAE;MACnBf,KAAK,CAAC;QACJgB,MAAM,EAAE,KAAK;QACbC,GAAG,EAAG,GAAEf,OAAQ;MAClB,CAAC,CAAC,CACDgB,IAAI,CAAEC,GAAG,IAAK;QACb;QACAJ,OAAO,CAACK,MAAM,CAAC,cAAc,EAAED,GAAG,CAACE,IAAI,CAAC;MAC1C,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB,CAAC,CAAC;IACJ,CAAC;IACDG,MAAM,CAACX,OAAO,EAAEY,OAAO,EAAE;MACvB,MAAMC,QAAQ,GAAGD,OAAO,CAACC,QAAQ;MACjC,MAAMC,SAAS,GAAGF,OAAO,CAACE,SAAS;MACnC,MAAMC,SAAS,GAAGH,OAAO,CAACG,SAAS;MAEnC9B,KAAK,CAAC;QACJgB,MAAM,EAAE,MAAM;QACdC,GAAG,EAAG,GAAEf,OAAQ,kBAAiB;QACjCmB,IAAI,EAAE;UACJO,QAAQ;UAAEC,SAAS;UAAEC;QACvB;MACF,CAAC,CAAC,CACDZ,IAAI,CAAEC,GAAG,IAAK;QACb;QACA;QACAJ,OAAO,CAACK,MAAM,CAAC,YAAY,EAAED,GAAG,CAACE,IAAI,CAACU,GAAG,CAAC;MAC5C,CAAC,CAAC,CACDT,KAAK,CAAEC,GAAG,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB,CAAC,CAAC;IACJ,CAAC;IACDS,KAAK,CAACjB,OAAO,EAAEY,OAAO,EAAE;MACtB,MAAMC,QAAQ,GAAGD,OAAO,CAACC,QAAQ;MACjC,MAAMK,QAAQ,GAAGN,OAAO,CAACM,QAAQ;MAEjCjC,KAAK,CAAC;QACJgB,MAAM,EAAE,MAAM;QACdC,GAAG,EAAG,GAAEf,OAAQ,iBAAgB;QAChCmB,IAAI,EAAE;UACJO,QAAQ;UAAEK;QACZ;MACF,CAAC,CAAC,CACDf,IAAI,CAAEC,GAAG,IAAK;QACbJ,OAAO,CAACK,MAAM,CAAC,YAAY,EAAED,GAAG,CAACE,IAAI,CAACU,GAAG,CAAC;MAC5C,CAAC,CAAC,CACDT,KAAK,CAAEC,GAAG,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB,CAAC,CAAC;IACJ;EACF,CAAC;EACDW,OAAO,EAAE,CACT;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}